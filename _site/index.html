<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Writing</title>
  <meta name="description" content="Developer / Designer
">

  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1' name='viewport'>
  <meta charset='utf-8'>
  <meta content='Scott Davis' name='author'>
  <link href='/favicon.ico' rel='shortcut icon'>
  <link href='//favicon.ico' rel='icon' sizes='16x16' type='image/x-icon'>
  <link rel="stylesheet" href="/css/main.css" type='text/css'>
  <link rel='stylesheet' href="/fonts/ss-social-regular.css" type='text/css'>

  <link rel="canonical" href="http://sco.ttdavis.com/">
  <link rel="alternate" type="application/rss+xml" title="Scott Davis" href="http://sco.ttdavis.com/feed.xml">
  <script>
    var _gaq = _gaq || [];
    _gaq.push(["_setAccount", "UA-9400337-1"]);
    _gaq.push(["_trackPageview"]);
    (function () {
    var e = document.createElement("script");
    e.type = "text/javascript";
    e.async = !0;
    e.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
    var t = document.getElementsByTagName("script")[0];
    t.parentNode.insertBefore(e, t)
    })();
  </script>
</head>





  <body class='group'>

    <header>
  <h1><a href="/"><img src="/images/sdlogo.svg" alt="Scott Davis"></a></h1>
  <nav>
    <ul>
      
        
          <li>
            <a href="/about/">About</a>
          </li>
        
      
        
      
        
          <li>
            <a href="/">Writing</a>
          </li>
        
      
        
      
    </ul>
  </nav>
</header>


    <div class='gradient-bar'></div>

    <div class='group' itemscope itemtype="http://schema.org/Blog">
      <section class='main article-list'>
        
  <div class='article-item full-article group' itemprop="articleBody">
    <h1 itemprop="name headline">
      Caching model associations in rails
    </h1>
    <span class="date">
      <time datetime="2015-11-25T19:02:31-05:00" itemprop="datePublished">
        Nov 25, 2015
      </time>
    </span>
    <div class='excerpt' itemprop="articleBody">
      <p>I’ve been working on a project recently called <a href="http://www.explorableplaces.com">www.explorableplaces.com</a>, and I added memcached caching with <a href="https://github.com/mperham/dalli">Dalli</a>. So I’m basically trying to cache anything and everything that can help our performance.</p>

<p>Normally, you will see guides and articles show you caching with an example like this:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">cached_images</span>
  <span class="no">Rails</span><span class="p">.</span><span class="nf">cache</span><span class="p">.</span><span class="nf">fetch</span><span class="p">([</span><span class="s1">'Articles'</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="s1">'images'</span><span class="p">,</span> <span class="n">updated_at</span><span class="p">.</span><span class="nf">to_i</span><span class="p">])</span> <span class="k">do</span>
    <span class="n">images</span><span class="p">.</span><span class="nf">to_a</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>And while this now works, if I eager load an association, it will not</p>


    </div>
    <a href="/blog/caching-model-associations-in-rails" class="continue" itemprop="url">continue reading</a>
    
  </div>



      </section>

      <aside itemprop="creator" itemscope itemtype="http://schema.org/Person">
  <div class='avatar-wrap'>
    <div class='avatar'>
      <meta itemprop="image" content="/images/me.jpg" />
      <div class='pic'></div>
    </div>
  </div>
  <p class='summary text-center' itemprop="description">
    <strong itemprop="name">
      Scott Davis
    </strong>
    is a Brooklyn-based front end developer.
  </p>
</aside>
    </div>

    <footer>
  <div class='footer-inner'>
    &copy; 2014 Scott Davis, made with &hearts; in Brooklyn
  </div>
</footer>
<script src="/js/prism.js"></script>


  </body>

</html>
